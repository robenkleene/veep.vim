*veep.txt*      Pipe visual selections through Ex and shell commands

Author:  Roben Kleene
License: Same terms as Vim itself (see |license|)


INTRODUCTION                                        *veep*

Veep provides commands for running Ex commands and shell commands on
*characterwise* and *blockwise* visual selections.  Built-in Vim ranges always
operate on whole lines, so commands cannot operate on parts lines, Veep allows
running commands on parts lines.


                                                    *veep-:P*  *:P*

:P[!] {command}

Applies an Ex command to the visual selection. With a "!" display the result
in the echo area instead of replacing the selection.



THE :Psh COMMAND                                     *veep-:Psh*  *:Psh*

:Psh {shell-command}

Shorthand for `:P !{shell-command}`, but provides shell completion in Vim.

Veep also remaps Visual `!`:
• characterwise or blockwise → `:Psh`
• linewise → built-in `!`


THE :Pex FAMILY                                      *veep-:Pe*  *veep-:Pex*

:Pe[x][!] {command}

Like |:P| but *omit* the range.  This is necessary for commands that fail when
a range is supplied (e.g. `:make`).

Example:
        :Pex make


THE :Pnew FAMILY                                     *veep-:Pnew*  *:Pnew*

:Pn[ew][!] {command}
        Like `:P`, but put the results in a new buffer instead of replacing
        the selection.

With `!`, the range is omitted, allowing normal-mode commands that do not take
ranges.

With no arguments:
        :Pnew
copies the selection to a new buffer.


THE :Pvnew COMMAND                                   *veep-:Pvnew*  *:Pvnew*

:Pv[new][!] {command}
        Like |:Pnew| but open the results in a *vertical* split.


THE :Ptabedit / :Ptabnew                             *veep-:Ptabedit*

:Ptabn[ew][!] {command}
:Ptabe[dit][!] {command}

Like |:Pnew| but open the results in a new tabpage.


EXAMPLES IN DETAIL                                   *veep-examples-table*

Example Markdown table:

>
| Header 1     | Header 2     | Header 3     |
|--------------|--------------|--------------|
| Row 1 Cell 1 | Row 1 Cell 2 | Row 1 Cell 3 |
| Row 2 Cell 1 | Row 2 Cell 2 | Row 2 Cell 3 |
| Row 3 Cell 1 | Row 3 Cell 2 | Row 3 Cell 3 |
<

Use blockwise Visual mode (`CTRL-V`) to select “Header 3” through rows 1–3.
Then:

        :P s/Row/Low/

Only the selected region is modified.

Another partial-line example:

>
Who put the bomp in the "bomp bah bomp bah bomp?"
<

Select text inside the quotes, then:

        :P s/bomp/plomp/g

Shell example:

        :P !sed 's/bomp/plomp/g'
        :Psh sed 's/bomp/plomp/g'

Both modify only the selected region.


BUILT-IN ALTERNATIVE                                 *veep-alternative*

Vim has no builtin for applying Ex commands to partial lines.  The closest
built-in approach is:

1. Yank the selection into a new buffer.
2. Apply the command in that buffer.
3. Reselect the same type of Visual selection (characterwise or blockwise).
4. Return to the original buffer and paste over the old selection.

This is effectively what Veep automates internally.


ABOUT                                               *veep-about*

Source / issues:  https://github.com/robenkleene/veep

 vim:tw=78:et:ft=help:norl:
